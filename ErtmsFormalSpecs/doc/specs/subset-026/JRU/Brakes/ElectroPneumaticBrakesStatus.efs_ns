<NameSpace
 X="320"
 Y="80"
 Width="100"
 Height="50"
 Name="ElectroPneumaticBrakesStatus"
 Guid="89b2f095-8870-4047-bba7-46ee75e95519"
>
<NameSpaces>
</NameSpaces>
<Functions>
<Function
 Type="Messages.JRU.M_EP_STATUS"
 Default=""
 X="150"
 Y="10"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="GetStatus"
 Guid="bb328e14-7924-42df-a399-9813c13048f0"
>
<ReqRef
 Id="31f32d56-9e3c-4fd0-b226-ea769b746033"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="b1017790-4a73-4506-b567-21ed009f7c35"
>
</ReqRef><Comment>Retrieves the EP_BRAKE status from the TIU</Comment>
<Cases>
<Case
 Name="Active"
 Guid="295509d4-3e26-4270-ad0a-0705d6b26799"
>
<PreConditions>
<PreCondition
 Guid="b90f2d4b-f9db-4686-b86a-8faf9c360b13"
>TIU.SpecialBrakeStatus.EPBrakeIsActive == True</PreCondition></PreConditions>
<Expression>Messages.JRU.M_EP_STATUS.Active</Expression>
</Case><Case
 Name="NotActive"
 Guid="b9fa4b5f-6e75-4111-b22b-5907bdc4a0fe"
>
<Expression>Messages.JRU.M_EP_STATUS.Not_active</Expression>
</Case></Cases>
</Function><Function
 Type="Boolean"
 Default=""
 X="40"
 Y="10"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="SendMessage"
 Guid="7560b854-b250-4d0c-acc0-cf0d8ee7c187"
>
<ReqRef
 Id="e394f9dd-0990-4f2d-ac8d-9a045f765d0a"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="ed52ee92-8168-4e12-a14e-d3108ebdf0ee"
>
</ReqRef><ReqRef
 Id="f21d7322-8da5-41b5-a334-69dd9493e2c7"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="f6f5477b-fb95-4928-9f20-a4c9ab548278"
>
</ReqRef><Comment>Indicates whether ELECTRO_PNEUMATIC_BRAKE status JRU Message should be sent</Comment>
<Cases>
<Case
 Name="AtStartUp"
 Guid="33c09de9-a9c1-4e7e-81da-998140d26b1c"
>
<PreConditions>
<PreCondition
 Guid="4ed54b86-a784-4089-b567-d5ee49bbb65c"
>IsStartUp()</PreCondition></PreConditions>
<Expression>True</Expression>
</Case><Case
 Name="StatusChanged"
 Guid="561bcd92-db60-45af-b6ae-94f6697f984b"
>
<Expression>LastStatus != GetStatus()</Expression>
</Case></Cases>
</Function></Functions>
<Procedures>
<Procedure
 X="40"
 Y="330"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="UpdateLastValues"
 Guid="db130c55-0df5-4e26-9425-716072fd37e7"
>
<ReqRef
 Id="f21d7322-8da5-41b5-a334-69dd9493e2c7"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="f7885159-4aff-4043-9772-1254f4fa01c1"
>
</ReqRef><Comment>Updates the registered values</Comment>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Update registered values"
 Guid="d8f02610-18ad-4d49-84dd-95d111e3521d"
>
<Comment>Updates the registered values</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Update registered values"
 Guid="b99158ab-ef65-4ece-9624-68c1aab725c9"
>
<PreConditions>
<PreCondition
 Guid="664067b1-d9a6-432a-860b-60475e43c6e5"
>SendMessage()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="a1e007d4-142b-46dd-abd8-b3cb3e56fab2"
>LastStatus &lt;- GetStatus()</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="40"
 Y="70"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="FillData"
 Guid="9f218ca0-10c8-4a20-aca9-91c7e25aebfb"
>
<ReqRef
 Id="93254149-6489-4e55-bb64-7f75408d3be8"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="d9a1d78d-1788-4bdd-b7cf-7a8e70bba967"
>
</ReqRef><ReqRef
 Id="5fdb3970-d469-4ae9-a8e8-d4689e467f8a"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="deb2f9f1-3d64-42e7-94bb-2eaf349f4500"
>
</ReqRef><ReqRef
 Id="31f32d56-9e3c-4fd0-b226-ea769b746033"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="d62fc029-e236-4d7c-bbc4-2d0531576afd"
>
</ReqRef><ReqRef
 Id="3053c3bf-f308-4a63-852d-74e5c2d96daf"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="fc39a4e3-eed6-4d9c-a3ed-a3a126ce360f"
>
</ReqRef><Comment>Creates a new ELECTRO_PNEUMATIC_BRAKE_STATUS message, if required</Comment>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Send ELECTRO_PNEUMATIC_BRAKE_STATUS message"
 Guid="93b2ec71-7387-4d40-809c-4febc3eac2c1"
>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Send ELECTRO_PNEUMATIC_BRAKE_STATUS message"
 Guid="c58ea9c0-aae3-442f-bba5-d027ed389e6a"
>
<PreConditions>
<PreCondition
 Guid="e769acbc-9b8b-4297-a767-bf1e2195dbe1"
>SendMessage()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="cb910ebc-1f98-4f2e-9dfd-ace681b4fec5"
>INSERT Messages.JRU.MESSAGE.Message{
     ELECTRO_PNEUMATIC_BRAKE_STATUS =&gt; Messages.JRU.MESSAGE.ELECTRO_PNEUMATIC_BRAKE_STATUS.Message{
         HEADER =&gt; Header.CreateHeader(36),
         M_EP_STATUS=&gt; GetStatus() 
    } 
}IN Messages</Action><Action
 Guid="7ddaaeda-657f-42b1-98e3-86e7ff360974"
>UpdateLastValues()</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure></Procedures>
<Variables>
<Variable
 Type="Messages.JRU.M_EP_STATUS"
 DefaultValue="Messages.JRU.M_EP_STATUS.Not_active"
 VariableMode="Internal"
 X="40"
 Y="190"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="LastStatus"
 Guid="d0928a0f-b197-4582-a0f4-87c45847e10b"
>
<ReqRef
 Id="f21d7322-8da5-41b5-a334-69dd9493e2c7"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="ecaabc56-4b0b-499a-9936-32a6a129468d"
>
</ReqRef><Comment>The last registered status</Comment>
</Variable></Variables>
</NameSpace>
