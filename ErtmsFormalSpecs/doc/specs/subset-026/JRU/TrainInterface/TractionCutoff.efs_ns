<NameSpace
 X="150"
 Y="20"
 Width="100"
 Height="50"
 Name="TractionCutoff"
 Guid="84bc60bf-429d-48ee-b0d1-2f02668259ab"
>
<NameSpaces>
</NameSpaces>
<Functions>
<Function
 Type="Boolean"
 Default=""
 X="40"
 Y="20"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="SendMessage"
 Guid="cdcedaf3-e36b-403c-b6b6-96f74545da0e"
>
<ReqRef
 Id="3822ea70-c0cb-4073-966b-5bee1bef3f8a"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="9ab08185-c71b-46b1-9ec9-8ac0617835cb"
>
</ReqRef><ReqRef
 Id="e394f9dd-0990-4f2d-ac8d-9a045f765d0a"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="9c6b9999-b57e-42b2-8868-343206d7465c"
>
</ReqRef><Comment>Indicates whether the TRACTION_CUTOFF message should be sent</Comment>
<Cases>
<Case
 Name="Changed"
 Guid="e29e8a6e-7c2e-4b2c-a29b-baaf34de033c"
>
<Expression>LastStatus != GetStatus()</Expression>
</Case></Cases>
</Function><Function
 Type="Messages.JRU.M_TCO_COMMAND_STATE"
 Default=""
 X="150"
 Y="20"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="GetStatus"
 Guid="e5e92408-817a-4237-a525-69f3ef616a99"
>
<ReqRef
 Id="3a14cad3-b86a-48ac-9b03-fc152ddaee7b"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="af80958f-14e9-4594-8dce-705328b9f6da"
>
</ReqRef><ReqRef
 Id="3822ea70-c0cb-4073-966b-5bee1bef3f8a"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="5cd992b1-9817-4303-acc3-abf41bfcf466"
>
</ReqRef><Comment>Retrieves the TRACTION_CUTOFF from the TIU</Comment>
<Cases>
<Case
 Name="Commanded"
 Guid="99a54275-346c-469e-bc04-fc9ead1dec0e"
>
<PreConditions>
<PreCondition
 Guid="b9e48122-ad67-401c-9558-98f31f735ede"
>TIU.CutOffTraction</PreCondition></PreConditions>
<Expression>Messages.JRU.M_TCO_COMMAND_STATE.Commanded</Expression>
</Case><Case
 Name="NotCommanded"
 Guid="68fe8473-6ebe-4b9e-b84b-5f17be10a0bb"
>
<Expression>Messages.JRU.M_TCO_COMMAND_STATE.Not_commanded</Expression>
</Case></Cases>
</Function></Functions>
<Procedures>
<Procedure
 X="40"
 Y="330"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="UpdateLastValues"
 Guid="83e2a588-b4b6-4021-8a83-174d1fdb4d11"
>
<ReqRef
 Id="3822ea70-c0cb-4073-966b-5bee1bef3f8a"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="6f26372f-2956-46e1-a2f4-4a12817975d8"
>
</ReqRef><Comment>Updates the registered values</Comment>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Update registered values"
 Guid="c0294d89-a99b-4fd8-a09e-7ca9987b86c1"
>
<Comment>Updates the registered values</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Update registered values"
 Guid="bc87b950-79a0-4fe4-99ba-8bfccae568f8"
>
<PreConditions>
<PreCondition
 Guid="d0b1f151-0b92-4b46-b368-5156b7ff2c3a"
>SendMessage()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="fd938d59-bfa5-4b4b-8378-1c9167798a68"
>LastStatus &lt;- GetStatus()</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="40"
 Y="80"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="FillData"
 Guid="c129dd4b-263c-4a3e-8538-a501063553f6"
>
<ReqRef
 Id="f5593895-c838-43ca-949d-48a837517e3d"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="a2c3ae2f-d7f8-4e3f-b7d7-299be5044f4d"
>
</ReqRef><ReqRef
 Id="74ba5666-a77d-4fce-ae4a-0f422a6f9491"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="332df119-a3c0-46e9-81ec-2b6a23862cd1"
>
</ReqRef><ReqRef
 Id="3a14cad3-b86a-48ac-9b03-fc152ddaee7b"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="a136d3bf-4e3f-4a39-9a91-10624a047f14"
>
</ReqRef><ReqRef
 Id="0cef8827-6917-474b-ab7d-7e27fcc4fe4a"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="9be28f70-1d5f-4cb9-83f4-ad75a460b939"
>
</ReqRef><Comment>Creates a new TRACTION_CUT_OFF_COMMAND_STATE message, if required</Comment>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Send TRACTION_CUT_OFF_COMMAND_STATE message"
 Guid="98296067-b7d2-4355-8e72-9a528133c4ea"
>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Send TRACTION_CUT_OFF_COMMAND_STATE message"
 Guid="6dc33943-06da-439b-bc9c-09528b2c0dae"
>
<PreConditions>
<PreCondition
 Guid="af23f357-6c60-4449-b743-6377daf1dbc8"
>SendMessage()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="f77fe5d9-10c5-493e-b92a-3cccb976b30c"
>INSERT Messages.JRU.MESSAGE.Message{
     TRACTION_CUT_OFF_COMMAND_STATE =&gt; Messages.JRU.MESSAGE.TRACTION_CUT_OFF_COMMAND_STATE.Message {
         HEADER =&gt; JRU.Header.CreateHeader(43),
         M_TCO_COMMAND_STATE =&gt; GetStatus() 
    } 
}IN Messages</Action><Action
 Guid="f1eeb215-d12e-4daf-90d4-1f6607983a53"
>UpdateLastValues()</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure></Procedures>
<Variables>
<Variable
 Type="Messages.JRU.M_TCO_COMMAND_STATE"
 DefaultValue="Messages.JRU.M_TCO_COMMAND_STATE.Not_commanded"
 VariableMode="Internal"
 X="40"
 Y="190"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="LastStatus"
 Guid="1b72a8bf-a4a7-495e-9fcd-e365a2d0b894"
>
<ReqRef
 Id="3822ea70-c0cb-4073-966b-5bee1bef3f8a"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="07fa239b-8642-4150-ad1a-ffe147b4614b"
>
</ReqRef><Comment>The last reported status</Comment>
</Variable></Variables>
</NameSpace>
