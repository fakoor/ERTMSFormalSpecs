<NameSpace
 X="30"
 Y="320"
 Width="100"
 Height="50"
 Name="VirtualBaliseCover"
 Guid="b21972d7-5ead-4bc9-bbd0-6cc190f2dc32"
>
<NameSpaces>
<NameSpaceRef
 Name="Added"
 Guid="bb496e75-dfb9-4b9d-8b5d-d47890d23961"
>
</NameSpaceRef><NameSpaceRef
 Name="Removed"
 Guid="49a1207a-5e8c-405c-b781-2439e350b9c5"
>
</NameSpaceRef></NameSpaces>
<Functions>
<Function
 Type="Messages.JRU.T_VBC"
 Default=""
 X="260"
 Y="160"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="TimeVBC"
 Guid="21dd0957-b915-4607-9b25-c236357bff4f"
>
<ReqRef
 Id="114edcbc-7d24-41b0-88fe-89c4ceb8ae45"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="39821921-2382-418b-8578-9aacc9f77273"
>
</ReqRef><Comment>Provides the number of days of validity for a Virtual Balise Cover</Comment>
<Parameters>
<Parameter
 Type="Default.DateAndTimeStruct"
 Name="time"
 Guid="4ee39fe6-b523-4674-aa7a-a7c45303bd15"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="Always"
 Guid="cbc9552a-cb28-4d63-83b4-d222567cb3c4"
>
<Expression>time.Day</Expression>
</Case></Cases>
</Function></Functions>
<Procedures>
<Procedure
 X="40"
 Y="370"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="UpdateLastValues"
 Guid="8c3e7c9c-1c75-4469-929c-ffa9a2798923"
>
<ReqRef
 Id="519182f7-fb99-4546-87d8-da7a2edd6c99"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="c82f9959-3810-46e5-ac99-742655515509"
>
</ReqRef><ReqRef
 Id="9d9290ed-830e-4e22-9056-7b1d9cdd0b86"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="dad60868-6c0a-45d4-a945-8e60ddb49d40"
>
</ReqRef><Comment>Updates the registered values</Comment>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="A virtual balise cover has been added by the driver"
 Guid="731c09f7-91ec-429a-9252-02f40bde259a"
>
<Comment>Updates the registered values</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="A virtual balise cover has been added by the driver"
 Guid="b9685aed-e460-4eca-acf2-a0bee97a9118"
>
<PreConditions>
<PreCondition
 Guid="7e5faf89-9e48-4062-ac89-b2e1a43e84af"
>Available ( Added.GetCover() )</PreCondition></PreConditions>
<Actions>
<Action
 Guid="b2420b1d-8db9-4fb9-97c4-a776cba38fb6"
>INSERT Added.GetCover() IN LastCovers</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="A virtual balise cover has been removed by the driver"
 Guid="a9ecd1cd-ce9d-4131-9570-2bb3e7ab9409"
>
<Comment>Updates the registered values</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="A virtual balise cover has been removed by the driver"
 Guid="f4c75082-aa8f-46e4-bb91-6d3a585a2515"
>
<PreConditions>
<PreCondition
 Guid="42a5c69d-1ce3-4481-8b18-4b42343d0e05"
>Available ( Removed.GetCover() )</PreCondition></PreConditions>
<Actions>
<Action
 Guid="c91f7d23-cf35-4b3d-9b22-8617573741a8"
>REMOVE ALL X.Marker == Removed.GetCover().Marker IN LastCovers</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="40"
 Y="160"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="FillData"
 Guid="9ae8ab4d-3df8-4652-8cc7-be7e1930af52"
>
<ReqRef
 Id="73f48619-37ca-496b-914a-d7250a79bc0f"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="caba1714-1792-4f83-a42a-8cc2b803d956"
>
</ReqRef><ReqRef
 Id="a2e6cb35-1b3b-4f1b-bacd-2c48c3cbba00"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="bbb14489-643d-49f9-9e97-5294865e02dc"
>
</ReqRef><ReqRef
 Id="29bf3662-a0ca-450a-8c70-1d447bcd3e7b"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="b6ef91f8-6c5d-40b1-b1a0-0a9ef1665e6c"
>
</ReqRef><ReqRef
 Id="d859be5b-236a-48f2-8ded-f5dae33c2380"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="68959f46-d369-428f-a53b-a2e3b07bdc50"
>
</ReqRef><Comment>Creates the Virtual Balise Cover related messages, if required</Comment>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Send Virtual Balise Cover-related messages"
 Guid="05277229-db81-4f8f-954b-e4ff87e645e4"
>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Send Virtual Balise Cover-related messages"
 Guid="e35ba1d3-9c84-4e93-85a0-88c828a09007"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="ebbad100-b28c-43f0-b6dd-845914fccdec"
>Added.FillData()</Action><Action
 Guid="9877dc18-9220-4a5c-b268-55758931961e"
>Removed.FillData()</Action><Action
 Guid="08c29bad-5b1a-4e1e-8561-4307d2545332"
>UpdateLastValues()</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure></Procedures>
<Variables>
<Variable
 Type="Kernel.VirtualBaliseCover.VBCCol"
 DefaultValue="[]"
 VariableMode="Internal"
 X="40"
 Y="250"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="LastCovers"
 Guid="b2f5f417-1da4-4efd-9295-dd80b8e7d908"
>
<ReqRef
 Id="9d9290ed-830e-4e22-9056-7b1d9cdd0b86"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="a191aed0-b757-4d6f-9c13-7592b7cd7e92"
>
</ReqRef><ReqRef
 Id="519182f7-fb99-4546-87d8-da7a2edd6c99"
 SpecId="2218d057-3a1a-45e0-a1c9-ef26c3f85bc2"
 Guid="e04e6463-c3da-4f59-ac61-0c2c13d64b12"
>
</ReqRef><Comment>The last reported status</Comment>
</Variable></Variables>
</NameSpace>
