<NameSpace
 X="10"
 Y="250"
 Width="100"
 Height="50"
 Name="VersionManagement"
 Guid="8ee7b266-dbd1-4339-8741-594489f176e9"
>
<NameSpaces>
<NameSpaceRef
 Name="Translation"
 Guid="cee15311-cfcb-4ca0-a0ed-43fb46afb5d3"
>
</NameSpaceRef></NameSpaces>
<Enumerations>
<Enum
 Default="SystemVersionEnum.Version2_0"
 X="210"
 Y="100"
 Width="100"
 Height="50"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="SystemVersionEnum"
 Guid="77f31ac3-7a9c-4338-91eb-52d0c1c55f0c"
>
<ReqRef
 Id="a32b885e-f73e-44f1-9cba-50faee55ee28"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="17ebe643-ebf8-454d-bc2d-7bf40dc20bbd"
>
</ReqRef><ReqRef
 Id="93b767f2-b6d6-4d86-96fa-030d812c8f40"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="5ad9e709-82fc-4af1-8654-3e980bee3f95"
>
</ReqRef><ReqRef
 Id="cf417b3a-60c6-4a9b-9943-69cfd55745eb"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0a2a42f2-4f4f-46f9-9654-ec5ecd3c7839"
>
</ReqRef><ReqRef
 Id="ab5308f4-b51c-4344-b01b-60216b72673e"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="adefdcda-cd18-4fed-9a94-d11b0fe9ef64"
>
</ReqRef><ReqRef
 Id="65cf2f83-07d2-4e30-90f6-1dfd657a4d74"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="d8993032-ef43-4f4b-8527-f31b723c5423"
>
</ReqRef><ReqRef
 Id="790cf49e-a85c-4110-b567-fc5d57052339"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="a2916d22-6e98-495a-97af-d69196c13fcc"
>
</ReqRef><ReqRef
 Id="25af834a-3a24-459b-b5c8-97b85eddb2e8"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="5f49982d-efd1-48e5-b246-8b37d960b7eb"
>
</ReqRef><Comment>The operated system version number.</Comment>
<Values>
<EnumValue
 Value=""
 Name="Version1_0"
 Guid="1cbb3c3b-7be7-4c62-8e00-04b460cbd35a"
>
</EnumValue><EnumValue
 Value=""
 Name="Version2_0"
 Guid="a9fcd07f-d5c4-433c-85d1-02b402022885"
>
</EnumValue><EnumValue
 Value=""
 Name="Version1_1"
 Guid="1f153b83-5624-478e-b29d-a641c0dfcd33"
>
</EnumValue></Values>
</Enum><Enum
 Default="SystemMainVersionEnum.Version2"
 X="550"
 Y="100"
 Width="100"
 Height="50"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="SystemMainVersionEnum"
 Guid="159d9fea-5a71-41af-b981-6c1c2db8d6b8"
>
<ReqRef
 Id="cf417b3a-60c6-4a9b-9943-69cfd55745eb"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="2230161d-8ac4-4059-9a49-40bc7e431d50"
>
</ReqRef><Comment>The operated system version is of the form X.Y but the translations only need the main version number X.</Comment>
<Values>
<EnumValue
 Value=""
 Name="Version1"
 Guid="fea6303f-e727-4cfa-8b50-cd257c49ca46"
>
</EnumValue><EnumValue
 Value=""
 Name="Version2"
 Guid="66cd475f-0d0a-48de-bbd3-26fc5eddf140"
>
</EnumValue></Values>
</Enum></Enumerations>
<Structures>
<Structure
 Default=""
 X="380"
 Y="100"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="SystemVersionStruct"
 Guid="d57ddcfd-645d-4096-81d5-c12c41bd57bb"
>
<ReqRef
 Id="02f20f26-3445-49b9-95cf-a6948ab029b8"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="97b05239-dbfb-447a-953a-e1fbb1608040"
>
</ReqRef><Comment>Represents the system version received from the trackside.</Comment>
<StructureElement
 TypeName="VersionManagement.SystemVersionEnum"
 Default="VersionManagement.SystemVersionEnum.Version2_0"
 Mode="Internal"
 Implemented="TRUE"
 Name="Value"
 Guid="6b92d905-fc0e-4c7c-8f01-e8ea9c2663a8"
>
<Comment>The value of the system version.</Comment>
</StructureElement><StructureElement
 TypeName="DataStateEnum"
 Default="DataStateEnum.Unknown"
 Mode="Internal"
 Implemented="TRUE"
 Name="DataState"
 Guid="1d98ef8a-fbe4-4fe6-affb-c0d0d99bb986"
>
<Comment>The data state of the system version.</Comment>
</StructureElement><Interfaces>
<StructureRef
 Name="DataStateInterface"
 Guid="e414b89e-c084-45db-8800-f92351b16e1f"
>
</StructureRef></Interfaces>
</Structure></Structures>
<Collections>
<Collection
 TypeName="SystemVersionEnum"
 MaxSize="3"
 Default="[]"
 X="10"
 Y="100"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="SystemVersionsCol"
 Guid="44ac3d41-0bd0-4d96-b3e0-236b9806487b"
>
<ReqRef
 Id="790cf49e-a85c-4110-b567-fc5d57052339"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="12a9527d-0bf4-441e-9f73-b172a6a10e83"
>
</ReqRef><ReqRef
 Id="25af834a-3a24-459b-b5c8-97b85eddb2e8"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="9de807bb-b66f-4d46-9fb0-4bded8376599"
>
</ReqRef><Comment>Collection system versions supported by on-board.</Comment>
</Collection></Collections>
<Functions>
<Function
 Type="SystemVersionEnum"
 Default=""
 X="120"
 Y="270"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="OperatedSystemVersionFromBTM"
 Guid="6b40882e-580e-472c-a433-b9892d1500ba"
>
<ReqRef
 Id="f60bbaad-2b86-4ba0-903d-6f4c835bd243"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="d6acccb3-b5a0-43b7-9bd5-0e8886a74461"
>
</ReqRef><ReqRef
 Id="2cde43dc-b585-44b6-9f88-b1b7235d55ee"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="710a6720-e47f-49da-baa6-4ac98cb076bf"
>
</ReqRef><ReqRef
 Id="4127aa10-80a1-49bd-b357-9d840ef580da"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="108e9141-723d-434e-a46f-a2f34e4f636d"
>
</ReqRef><ReqRef
 Id="6b466805-f74c-4207-8050-c9c9d0ea869c"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="a0aee605-c16b-49b4-af85-19102ff91c86"
>
</ReqRef><ReqRef
 Id="7a2d478a-8db9-4380-9a12-04cc8d22cf6a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="bca5f50d-c1b1-4b6c-b455-42db5e2d9f21"
>
</ReqRef><Comment>Returns the OperatedSystemVersion as computed from BTM informations only.</Comment>
<Parameters>
<Parameter
 Type="Messages.BTM.Message"
 Name="aMessage"
 Guid="87b15484-c517-4527-a349-19ea721ab771"
>
</Parameter><Parameter
 Type="SystemVersionEnum"
 Name="aSystemVersion"
 Guid="3500c482-d7a7-4356-963d-66dede36490c"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="SystemVersionOrder2"
 Guid="f0e2529e-634d-426e-84a4-aa4819889870"
>
<PreConditions>
<PreCondition
 Guid="e9bd2fe3-257e-4c69-9fda-e543eae451eb"
>THERE_IS X IN aMessage.SystemVersion2.Sequence1 | Available(X.TRACK_TO_TRAIN.SYSTEM_VERSION_ORDER)</PreCondition></PreConditions>
<Expression>SystemVersionFromMessageVersion((FIRST X IN aMessage.SystemVersion2.Sequence1 | Available(X.TRACK_TO_TRAIN.SYSTEM_VERSION_ORDER)).TRACK_TO_TRAIN.SYSTEM_VERSION_ORDER.M_VERSION)</Expression>
</Case><Case
 Name="SystemVersionOrder1"
 Guid="67721ca0-a445-48a0-a593-02688f33a486"
>
<PreConditions>
<PreCondition
 Guid="17a84b42-be68-4ffb-8868-e40c90681742"
>THERE_IS X IN aMessage.SystemVersion1.Sequence1 | Available(X.TRACK_TO_TRAIN.SYSTEM_VERSION_ORDER)</PreCondition></PreConditions>
<Expression>SystemVersionFromMessageVersion((FIRST X IN aMessage.SystemVersion1.Sequence1 | Available(X.TRACK_TO_TRAIN.SYSTEM_VERSION_ORDER)).TRACK_TO_TRAIN.SYSTEM_VERSION_ORDER.M_VERSION)</Expression>
</Case><Case
 Name="NoOrder Message  System Version 1 available"
 Guid="1af32091-2fa3-4c11-8243-bfd4413da4df"
>
<PreConditions>
<PreCondition
 Guid="44831ce4-f7e7-4c49-a206-e73d1663c4b2"
>Available(aMessage.SystemVersion1)</PreCondition></PreConditions>
<Expression>HighestSystemVersion( [aSystemVersion, SystemVersionFromMessageVersion(aMessage.SystemVersion1.M_VERSION ) ] )</Expression>
</Case><Case
 Name="NoOrder Message  System Version 2 available"
 Guid="c0a69b67-a86f-49fd-bde1-21ae588341b0"
>
<PreConditions>
<PreCondition
 Guid="c87b1654-d1e1-4210-bae3-001b60cfeded"
>Available(aMessage.SystemVersion2)</PreCondition></PreConditions>
<Expression>HighestSystemVersion( [ aSystemVersion,  SystemVersionFromMessageVersion(aMessage.SystemVersion2.M_VERSION ) ] )</Expression>
</Case></Cases>
</Function><Function
 Type="SystemVersionEnum"
 Default=""
 X="230"
 Y="270"
 Width="100"
 Height="50"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="HighestSystemVersion"
 Guid="fff77ca3-acda-46f0-9c27-ece699366110"
>
<Comment>Compares the two received SystemVersions and returns the highest.</Comment>
<Parameters>
<Parameter
 Type="SystemVersionsCol"
 Name="aSystemVersions"
 Guid="0e2891d5-7a34-4279-a3e1-bb98e31e981b"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="Version2_0"
 Guid="be944d36-ac58-4bbc-94b0-373f804cb9b5"
>
<PreConditions>
<PreCondition
 Guid="f3506b2e-36b1-48e1-bde4-a9da3a9a4ca6"
>SystemVersionEnum.Version2_0 in aSystemVersions</PreCondition></PreConditions>
<Expression>SystemVersionEnum.Version2_0</Expression>
</Case><Case
 Name="Version2_1"
 Guid="79a5c0d2-622c-47b0-972f-13d07543ea78"
>
<PreConditions>
<PreCondition
 Guid="4f3e44d1-1b4f-4171-bf80-c928b2b6597b"
>SystemVersionEnum.Version1_1 in aSystemVersions</PreCondition></PreConditions>
<Expression>SystemVersionEnum.Version1_1</Expression>
</Case><Case
 Name="Version1_0"
 Guid="8687262c-d957-4468-aca6-fe25f3050598"
>
<Expression>SystemVersionEnum.Version1_0</Expression>
</Case></Cases>
</Function><Function
 Type="SystemVersionEnum"
 Default=""
 X="10"
 Y="330"
 Width="100"
 Height="50"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="SystemVersionFromMessageVersion"
 Guid="896b7777-2789-45f7-b46c-d4480f5ffbd0"
>
<Comment>Simply returns the operated system version(SystemVersion_X_Enum) computed from the message version</Comment>
<Parameters>
<Parameter
 Type="Messages.M_VERSION"
 Name="aMessageVersion"
 Guid="d328a1a7-4b4a-4ed9-9b3f-bff6cc5b7028"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="Version2_0"
 Guid="d2401ee4-aadc-4e5f-a1c5-2920bc360e25"
>
<PreConditions>
<PreCondition
 Guid="456e295a-5674-45dc-acdd-4adb81eace22"
>aMessageVersion == Messages.M_VERSION.Version_2_0__introduced_in_SRS_3_0_0</PreCondition></PreConditions>
<Expression>SystemVersionEnum.Version2_0</Expression>
</Case><Case
 Name="Version1_1"
 Guid="fd076b17-90b6-49d8-a853-8fbbf80c7191"
>
<PreConditions>
<PreCondition
 Guid="824422d6-9237-4f09-94e3-c662b7b5d6bc"
>aMessageVersion == Messages.M_VERSION.Version_1_1__introduced_in_SRS_3_0_0</PreCondition></PreConditions>
<Expression>SystemVersionEnum.Version1_1</Expression>
</Case><Case
 Name="Version1_0"
 Guid="765e9875-e2d1-4a70-9174-3ff09cf1836d"
>
<Expression>SystemVersionEnum.Version1_0</Expression>
</Case></Cases>
</Function><Function
 Type="SystemVersionEnum"
 Default=""
 X="230"
 Y="330"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="OperatedSystemVersionFromRBC"
 Guid="de0e0b56-d8a5-4742-8dfc-210cd2c7b4a2"
>
<ReqRef
 Id="f2f03310-b2fa-4db9-9295-74b339bd6a55"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="057fc94d-d78a-4ff7-b8ce-3375613dc953"
>
</ReqRef><Comment>Returns the system version from the given RBC struct.</Comment>
<Parameters>
<Parameter
 Type="EURORADIO.RBCStruct"
 Name="aRBCStruct"
 Guid="951c3777-60c4-4325-b9ad-7a5b76c63b9a"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="Value"
 Guid="d80a8535-735d-416c-aab0-a235014bb9ec"
>
<Expression>aRBCStruct.SessionManagementData.SystemVersion.Value</Expression>
</Case></Cases>
</Function><Function
 Type="SystemMainVersionEnum"
 Cacheable="TRUE"
 Default=""
 X="340"
 Y="270"
 Width="100"
 Height="50"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="MainVersionFromDetailledVersion"
 Guid="8a03f3ac-3db5-4b46-916d-b6ea709aa48f"
>
<Comment>Gets the main system version X from the detailled version X.Y.</Comment>
<Parameters>
<Parameter
 Type="SystemVersionEnum"
 Name="aDetailledVersion"
 Guid="e3899f86-981c-4fa5-b070-ac83f610e9d2"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="Version2"
 Guid="fd120d58-b178-4fa5-915d-849731fbf967"
>
<PreConditions>
<PreCondition
 Guid="1bb488c7-a871-4959-9b8e-d917d57992ec"
>aDetailledVersion == SystemVersionEnum.Version2_0</PreCondition></PreConditions>
<Expression>SystemMainVersionEnum.Version2</Expression>
</Case><Case
 Name="Version1"
 Guid="81611b19-53ed-45d4-b9fc-3fd7695aaefc"
>
<PreConditions>
<PreCondition
 Guid="fd78ca85-f62d-4ec1-a1a5-0f3994827a2b"
>aDetailledVersion in [SystemVersionEnum.Version1_0, SystemVersionEnum.Version1_1]</PreCondition></PreConditions>
<Expression>SystemMainVersionEnum.Version1</Expression>
</Case></Cases>
</Function><Function
 Type="Messages.M_VERSION"
 Default=""
 X="10"
 Y="270"
 Width="100"
 Height="50"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="MessageVersionFromSystemVersion"
 Guid="b9895084-c256-4ae1-b258-c06c461fb657"
>
<Comment>Simply performs a one to one correspondance between to types.</Comment>
<Parameters>
<Parameter
 Type="SystemVersionEnum"
 Name="aSystemVersion"
 Guid="6e071bfe-b3a4-42fa-98a8-a655abbb22f8"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="Version2_0"
 Guid="3ab71753-c7c1-4204-af74-53fe06525f08"
>
<PreConditions>
<PreCondition
 Guid="15247498-8f7e-478d-a514-253967f1c23e"
>aSystemVersion == SystemVersionEnum.Version2_0</PreCondition></PreConditions>
<Expression>Messages.M_VERSION.Version_2_0__introduced_in_SRS_3_0_0</Expression>
</Case><Case
 Name="Version1_1"
 Guid="e8d49d0a-244f-43f2-917a-4e0effb22861"
>
<PreConditions>
<PreCondition
 Guid="7a291515-0813-4d6c-b616-a62465247eed"
>aSystemVersion == SystemVersionEnum.Version1_1</PreCondition></PreConditions>
<Expression>Messages.M_VERSION.Version_1_1__introduced_in_SRS_3_0_0</Expression>
</Case><Case
 Name="Version1_0"
 Guid="c5606ebe-0909-4dec-877c-2de7b8a659da"
>
<PreConditions>
<PreCondition
 Guid="a1bc4666-de83-4e87-9103-7bde7f5fc88b"
>aSystemVersion == SystemVersionEnum.Version1_0</PreCondition></PreConditions>
<Expression>Messages.M_VERSION.Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0</Expression>
</Case></Cases>
</Function><Function
 Type="Boolean"
 Default=""
 X="120"
 Y="330"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="SystemVersionIsCompatible"
 Guid="28b8bd9c-0c28-4b56-8672-4510358507e8"
>
<ReqRef
 Id="790cf49e-a85c-4110-b567-fc5d57052339"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="408fea0c-e3fd-4aeb-a674-fcefc576398e"
>
</ReqRef><ReqRef
 Id="25af834a-3a24-459b-b5c8-97b85eddb2e8"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="34ecb0db-985f-4a26-b5a8-0b90794321df"
>
</ReqRef><ReqRef
 Id="e3806294-c226-451a-b5c2-70b79a84dded"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="b56ecb5f-c7a6-44d0-8bca-a5f1b86c0b35"
>
</ReqRef><Comment>Indicates if the system version received from the trackside is compatible with the system version of the on-board. The versions are compatible if their first number is the same.</Comment>
<Parameters>
<Parameter
 Type="VersionManagement.SystemVersionEnum"
 Name="aVersion"
 Guid="f28983c1-e560-4c9e-8c49-0f46dbbf140a"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="Value"
 Guid="f88248fd-32a2-4222-ae5e-8f2fe7c60b72"
>
<Expression>THERE_IS Version IN SupportedSystemVersions | MainVersionFromDetailledVersion( aDetailledVersion =&gt; Version ) == MainVersionFromDetailledVersion( aDetailledVersion =&gt; aVersion )</Expression>
</Case></Cases>
</Function></Functions>
<Procedures>
<Procedure
 X="10"
 Y="190"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="UpdateOperatedSystemVersion"
 Guid="548a74b9-ac26-4938-9c91-c5f81fc20619"
>
<ReqRef
 Id="f2f03310-b2fa-4db9-9295-74b339bd6a55"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="e990d3c4-96f5-4265-af26-54c1e3d5b36e"
>
</ReqRef><ReqRef
 Id="fc9c2633-16cf-4cca-9698-93622e8854e0"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="848fbe27-6326-4d1e-8c8e-d66c178150e2"
>
</ReqRef><Comment>Procedure called to update the OperatedSystemVersion. Depending on existence of radio connexion and the position of the train with respect to radio coverage zone, the OperatedSystemVersion will be updated using balise message system version or radio system version.
This is the default rule which will be called at the beginning of each cycle, before message treatment. It is also called at two special occasions: while setting the level to 2/3 and during handover. It is assumed that these two occasions cannot occure at the same cycle.</Comment>
<Parameters>
<Parameter
 Type="EURORADIO.RBCStruct"
 Name="aRBCStruct"
 Guid="f12b6f60-5268-4b76-b966-bcbb4a52cd69"
>
</Parameter></Parameters>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Update Operated System Version"
 Guid="730fc4ff-b184-461e-b5f9-fa4338366191"
>
<ReqRef
 Id="f60bbaad-2b86-4ba0-903d-6f4c835bd243"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="3b42da61-a9a6-4895-8c83-d70a09791bf6"
>
</ReqRef><ReqRef
 Id="78790160-9d84-4f81-9b72-11429ec5a69f"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="d8d024e9-354a-40ab-ba14-e60fa67ad722"
>
</ReqRef><ReqRef
 Id="ce4aa798-341e-4b38-b7bf-f32bc3bfe840"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="df5c6503-0dd4-4932-b5e9-60bb840f0510"
>
</ReqRef><ReqRef
 Id="8b537bfe-42bf-4ed8-b4bd-e2df5c6fe959"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="871ac40d-0bcb-4865-b32a-846bef63a7ed"
>
</ReqRef><ReqRef
 Id="f2f03310-b2fa-4db9-9295-74b339bd6a55"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="f2ee985f-744c-4e0d-8258-335e9b7b39c2"
>
</ReqRef><SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Update Operated System Version RBC"
 Guid="2bacb06e-9941-4bcf-b0dc-f444f547360c"
>
<ReqRef
 Id="8b537bfe-42bf-4ed8-b4bd-e2df5c6fe959"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="3a5d59a9-8311-4a51-b893-b32a90e4d9e6"
>
</ReqRef><Comment>See comments and requirements of the calling procedure.</Comment>
<PreConditions>
<PreCondition
 Guid="f76a62f0-d77b-4018-aa99-96093e88b094"
>EURORADIO.HasActiveSession()</PreCondition><PreCondition
 Guid="65599b14-1722-4c08-9d68-3e13ae3b192e"
>Available(aRBCStruct.SessionManagementData.SystemVersion.Value)</PreCondition><PreCondition
 Guid="48db0e3f-d4e4-4941-9f9f-fb3ebdd1552f"
>Kernel.Level.Value.Value in [LevelEnum.L2, LevelEnum.L3]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="ace87758-9b7f-4c03-95bc-84b7a2173a77"
>OperatedSystemVersion &lt;- OperatedSystemVersionFromRBC(aRBCStruct)</Action></Actions>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="Update Operated System Version BTM"
 Guid="fa484369-e2fb-4fdc-bd88-82a576968955"
>
<ReqRef
 Id="67511e6a-424d-4fb0-9f7e-47af313c4532"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="f8358b50-cf37-4906-88f7-48b9541df34c"
>
</ReqRef><ReqRef
 Id="6b466805-f74c-4207-8050-c9c9d0ea869c"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="2e897b74-a81d-4256-a931-897b6cc4c8c9"
>
</ReqRef><ReqRef
 Id="7a2d478a-8db9-4380-9a12-04cc8d22cf6a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="40e2a554-7d96-41f4-a8e8-bc82aa6b0551"
>
</ReqRef><Comment>See comments and requireemnts of the calling procedure.</Comment>
<PreConditions>
<PreCondition
 Guid="65600d3c-0a97-4f0f-9fa8-52a983f3ee21"
>(NOT EURORADIO.HasActiveSession()) OR Kernel.Level.Value.Value in [Default.LevelEnum.L0, Default.LevelEnum.L1, Default.LevelEnum.LNTC]</PreCondition><PreCondition
 Guid="44bd8d3a-e60a-464d-8b85-6725268b47fe"
>Available(BTM.Message.SystemVersion1) OR Available(BTM.Message.SystemVersion2)</PreCondition></PreConditions>
<Actions>
<Action
 Guid="73e115ff-7d04-42c9-872c-886097c00b5b"
>OperatedSystemVersion &lt;- OperatedSystemVersionFromBTM(BTM.Message,OperatedSystemVersion)</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure></Procedures>
<Variables>
<Variable
 Type="SystemVersionEnum"
 DefaultValue="SystemVersionEnum.Version2_0"
 VariableMode="Internal"
 X="210"
 Y="10"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="OperatedSystemVersion"
 Guid="2a6afa22-1c47-4c74-af18-2f4397f8b1f4"
>
<ReqRef
 Id="a32b885e-f73e-44f1-9cba-50faee55ee28"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="d2a822e4-3343-4bc7-92ef-b9e373c34100"
>
</ReqRef><ReqRef
 Id="93b767f2-b6d6-4d86-96fa-030d812c8f40"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="d7916eaf-3c47-468c-914b-85eff529f389"
>
</ReqRef><ReqRef
 Id="cbff537b-4ec2-4fde-8d63-3a46d748cb74"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="60acb3a6-91c1-4496-9add-56dfc2ca0310"
>
</ReqRef><ReqRef
 Id="2612c929-e684-4b3e-bacd-1b6c90de4b4f"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0ac89fa4-0b46-4537-8c11-f6a109c32971"
>
</ReqRef><ReqRef
 Id="bd2b56c4-9c42-4f86-9e09-659f7bb9659b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="c6d55059-42c6-4942-b33a-c26f90f93b8c"
>
</ReqRef><Comment>We interpret the choice of the default value as the implementation of paragraph 3.17.2.9.1 .</Comment>
</Variable><Variable
 Type="SystemVersionsCol"
 DefaultValue="[SystemVersionEnum.Version2_0]"
 VariableMode="Internal"
 X="10"
 Y="10"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="SupportedSystemVersions"
 Guid="e9003f47-af6c-4289-a33b-60b830bf4ccc"
>
<ReqRef
 Id="790cf49e-a85c-4110-b567-fc5d57052339"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="2acdb939-507a-4b5f-999c-19821626b9dd"
>
</ReqRef><ReqRef
 Id="25af834a-3a24-459b-b5c8-97b85eddb2e8"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="e3520cf1-6680-45fb-adc6-d49129321b6d"
>
</ReqRef><ReqRef
 Id="cbff537b-4ec2-4fde-8d63-3a46d748cb74"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="5d95cb12-71aa-4bf5-b2ba-a668081d6306"
>
</ReqRef><Comment>System versions supported by the on-board.</Comment>
</Variable><Variable
 Type="SystemVersionStruct"
 VariableMode="Internal"
 X="380"
 Y="10"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="PreviousSystemVersion"
 Guid="d76be35c-6351-45cd-847c-a0790ed42d6b"
>
<ReqRef
 Id="bd2b56c4-9c42-4f86-9e09-659f7bb9659b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="f3b2088e-185d-47a4-9f3e-8671dbf8ff78"
>
</ReqRef><Comment>Used to store the used system version when the system is powered off.</Comment>
</Variable></Variables>
</NameSpace>
